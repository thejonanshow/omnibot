export default{async fetch(r,e){const u=new URL(r.url);if(u.pathname===”/api/dev”){const b=await r.json();const a=“https://api.cloudflare.com/client/v4/accounts/”+e.CLOUDFLARE_ACCOUNT_ID+”/ai/run/@cf/deepseek-ai/deepseek-r1-distill-qwen-32b”;const x=await fetch(a,{method:“POST”,headers:{Authorization:“Bearer “+e.CLOUDFLARE_API_TOKEN},body:JSON.stringify({messages:[{role:“user”,content:b.task}]})});const d=await x.json();return new Response(JSON.stringify({plan:d.result.response}),{headers:{“Content-Type”:“application/json”}})}return new Response(”<!DOCTYPE html><html><body style='font-family:system-ui;max-width:600px;margin:50px auto;padding:20px;background:#111;color:#fff'><h1>Omnibot</h1><input id=i style=‘width:100%;padding:15px;margin:10px 0;font-size:16px’placeholder=‘Build what?’><button id=b style='width:100%;padding:15px;background:#00f;color:#fff;border:0;font-size:16px;cursor:pointer'>Build</button><div id=o style='margin-top:20px;padding:20px;background:#222;white-space:pre-wrap'></div><script>b.onclick=()=>fetch(’/api/dev’,{method:‘POST’,headers:{‘Content-Type’:‘application/json’},body:JSON.stringify({task:i.value})}).then(r=>r.json()).then(d=>o.textContent=JSON.stringify(d,null,2))</script></body></html>”,{headers:{“Content-Type”:“text/html”}})}